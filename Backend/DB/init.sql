CREATE TABLE USERS (
    UID SERIAL PRIMARY KEY,
    UNAME TEXT UNIQUE NOT NULL,
    UEMAIL TEXT UNIQUE NOT NULL
);

CREATE TABLE AUTH (
    ID SERIAL PRIMARY KEY,
    UID INTEGER REFERENCES USERS(UID) ON DELETE CASCADE,
    HASH VARCHAR(255) NOT NULL,
    SALT VARCHAR(255) NOT NULL
);

CREATE TABLE OTP (
    ID SERIAL PRIMARY KEY,
    UID INTEGER REFERENCES USERS(UID) ON DELETE CASCADE,
    OTP VARCHAR(6),
    CREATION_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    EXPIRY_DATE TIMESTAMP NOT NULL
);

CREATE TABLE TOKEN(
    ID SERIAL PRIMARY KEY,
    UID INTEGER REFERENCES USERS(UID) ON DELETE CASCADE,
    TOKEN VARCHAR(255) NOT NULL,
    CREATION_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
);